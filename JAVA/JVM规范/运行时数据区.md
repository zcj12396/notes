## 运行时数据区

### PC寄存器(每个线程独有)

保存当前正在执行的指令地址（returnAddress）（native方法则为undefined）

### Java虚拟机栈（线程独有）

存储栈帧（局部变量与一些尚未计算好的结果）

### 堆（共享）

存储对象

### 方法区（共享）

存储每个类的结构信息：

	- 运行时常量池
	- 字段
	- 方法数据
	- 构造函数
	- 普通方法

### 运行时常量池

是class文件中每一个类或接口的常量池表的运行时表示形态

包括：

	- 若干不同的产量

### 本地方法栈

XXX

## 栈帧

1. 存储数据和部分过程结果的数据结构
2. 处理动态链接
3. 方法返回值
4. 异常分派

每个栈帧在方法调用时创建，结束时销毁。

每个栈帧有自己的本地变量表、操作数栈、指向当前方法所属类的运行时常量池的引用

##### 局部变量表

- 长度编译时确定

- 一个局部变量可以保存32位的数据（除long,double外的基本类型、reference、returnAddress）
- 两个局部变量来保存long和double类型
- 第0位局部变量存储的为this指针

##### 操作数栈

后进先出

刚创建栈帧时是空的，由其他字节码指令来将（局部变量表中的变量、对象实例字段中的值）复制进入操作数栈，然后执行某些计算指令。（例如iadd指令来将操作数栈最顶层两个变量弹出，计算后压入计算结果）

##### 动态链接

每个栈帧内部包含一个指向当前方法所在类型的运行时常量池的引用，以便实现动态链接。

在运行时将常量池中指向方法的符号引用转化为直接引用。

